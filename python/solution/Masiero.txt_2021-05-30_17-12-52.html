university of padova master’s <span style="color: red"> degree </span> <span style="color: red"> in </span> <span style="color: red"> computer </span> <span style="color: red"> engineering </span> <span style="color: red">  </span> <span style="color: red"> internet </span> <span style="color: red"> of </span> <span style="color: red"> things </span> <span style="color: red"> and </span> <span style="color: red"> smart </span> <span style="color: red"> cities </span> - 6 lowpan: ideas for efficient routing strategies -  student: luca masiero 1217211  supervisor: professor lorenzo vangelista  academic year 2020/2021 may 31, 2021  contents 1 6 lowpan: a brief history  2  2 6 lowpan: functions and structure  3  3 6 lowpan: security requirements  4  4 6 lowpan: address management policy 4.1 adaptive layer . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 4.2 header compression . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  5 5 6  5 routing: an open research field 5.1 routing: general framework . . . . 5.2 routing: mesh-under vs route-over 5.3 routing: topology . . . . . . . . . . 5.4 routing: main requirements . . . . .  7 7 7 8 9  . . . .  . . . .  . . . .  . . . .  . . . .  . . . .  . . . .  . . . .  . . . .  . . . .  . . . .  . . . .  . . . .  . . . .  . . . .  . . . .  . . . .  . . . .  . . . .  . . . .  . . . .  . . . .  . . . .  . . . .  . . . .  . . . .  . . . .  internet <span style="color: red"> of </span> <span style="color: red"> things </span> <span style="color: red"> and </span> <span style="color: red"> smart </span> <span style="color: red"> cities </span> <span style="color: red">  </span> luca masiero <span style="color: red">  </span> <span style="color: red"> introduction </span> <span style="color: red"> the </span> <span style="color: red"> internet </span> <span style="color: red"> of </span> <span style="color: red"> things </span> (commonly known as iot) is constantly developing in a rapid way <span style="color: red"> and </span> <span style="color: red"> gaining </span> <span style="color: red"> momentum </span> <span style="color: red"> from </span> <span style="color: red"> both </span> academic research and industry 4.0, undisputed protagonist of the fourth industrial revolution. the advent of iot increased deployment of resource constrained wireless devices in a market growing in size day by day. always connected sensors and actuators advance business models concerning new products, process innovations and data. the main concept to be kept in mind when talking about internet of things is that standard internet protocols are used <span style="color: red"> to </span> <span style="color: red"> interconnect </span> <span style="color: red"> a </span> <span style="color: red"> local </span> <span style="color: red"> network </span> made of smart things (also called objects), distributed all around the world, <span style="color: red"> for </span> <span style="color: red"> data </span> <span style="color: red"> and </span> <span style="color: red"> information </span> <span style="color: red"> harvesting </span> <span style="color: red"> with </span> <span style="color: red"> functions </span> <span style="color: red"> such </span> <span style="color: red"> as </span> <span style="color: red"> identification, </span> <span style="color: red"> location, </span> positioning, monitoring and many others. thanks to the development of new and well-performing technologies (e.g., rfid1 or embedded sensors and actuators) iot has, nowadays, <span style="color: red"> a </span> <span style="color: red"> wide </span> <span style="color: red"> spectrum </span> <span style="color: red"> of </span> real-life applications, ranging <span style="color: red"> from </span> <span style="color: red"> transportation </span> <span style="color: red"> and </span> <span style="color: red"> logistics </span> to healthcare, from gaming to smart environments, from robotics to machine learning and artificial intelligence. smart things can connect to each other exchanging information and making decisions for their own <span style="color: red"> users. </span> <span style="color: red"> this </span> <span style="color: red"> will </span> <span style="color: red"> give </span> <span style="color: red"> rise </span> <span style="color: red"> to </span> <span style="color: red"> a </span> <span style="color: red"> new </span> <span style="color: red"> connectivity </span> <span style="color: red"> dimension </span> <span style="color: red"> called </span> connectivity for anything: itu endorses, in fact, the definition of iot as a network that is ”available anywhere, anytime, by anything and anyone”. in this report, the origins of 6 lowpan are presented in section 1. in section 2 a special attention will be given to both functions and structure of 6 lowpan, while in section 3 security requirements will be analyzed. section 4 considers the address management policy and section 5 concludes this work by presenting the routing problem, along with personal thoughts on possible and promising ideas.  figure 1 . 6 lowpan’s logo.  1  6 lowpan: a brief history  6 lowpan is the name, born in the first months of 2005, of a working group within the ietf2 , whose purpose was to define specifications for the transmission of ipv6 packets over ieee 802.15.4 networks. the first draft was published on july 11, 2005 and saw the participation of remarkable companies such as microsoft and intel. after thirteen revisions, the official rfc3 was published and became 1  rfid stands for radio frequency identification. ietf stands for internet engineering task force. 3 rfc stands for request for comments. 2  2  internet <span style="color: red"> of </span> <span style="color: red"> things </span> <span style="color: red"> and </span> <span style="color: red"> smart </span> <span style="color: red"> cities </span> <span style="color: red">  </span> luca masiero  official in september 2007, but only at the end of the third quarter of 2008 6 lowpan would be recognized as an internet standard. during 2007, important milestones have been achieved and are necessary to understand the standard’s development. in march arch rock, a private californian company, put on sale the first commercial implementation based on the ietf4 6 lowpan draft. in may, the university of bremen conducted a study leading to the first open source implementation. in june, sensinode, a finnish company, released, under general public license, an implementation of this standard based on its own hardware platforms. the company expected to market a 6 lowpan compatible router within the first quarter of 2008. at the last ietf meeting in december, arch rock and hitachi conducted an interoperability test that demonstrated that 6 lowpan devices can work together over ipv6 systems.  2  6 lowpan: functions and structure  figure 2 . representation of a 6 lowpan network.  as stated in the introduction, the key components for enabling widespread sensing of the physical world in iot systems are sensors and things that are connected to low-power wireless networks in locations that are, from the geographic point of view, dispersed and characterized from little or completely inexistent networking infrastructures. this kind of networks and devices can be characterized by a number of constraints that force crucial design compromises and restrictions at the implementation level and enabling them to participate, in an active way, in the internet-style internetworking would represent advantages and efficiencies in the overall iot system design. 4  the ietf can be defined as ”a loosely self-organized group of people who make technical or other contributions to the engineering and evolution of the internet and its technologies.” it is an organization based on the spontaneous contribution of various working groups, formed by a small number of individuals interested in a specific and limited topic, with a precise task to complete. the activities to be performed take mainly place in two distinct moments: the mailing lists and international meetings. there is no membership in the strict sense of the word in the ietf, so it is sufficient to register and participate voluntarily to the activities. this premise is important in order to understand the nature of 6 lowpan, which is an open standard. it is a standard not only because it is free to use, but also because the specifications, concerning circumscribed subjects, are made available to the public during their definition through documents, better known as internet drafts. internet drafts are embryonic specifications that are valid only for six months, after which they may be removed, modified, or approved as rfcs (the next level of the standard’s approval process).  3  internet <span style="color: red"> of </span> <span style="color: red"> things </span> <span style="color: red"> and </span> <span style="color: red"> smart </span> <span style="color: red"> cities </span> <span style="color: red">  </span> luca masiero  the 6 lowpan5 is a standardized protocol adaptation layer that accomplishes this task and defines the use of ip networking over ieee 802.15.4 low-power wireless networks, bringing the ip capability to devices at the edge: in this way they can be both sources and destinations reachable from the internet, making global connectivity possible. to be undelined is the fact that the use of ip provides a remarkable number of benefits (e.g., interoperability, naming and address translation, established transport and application protocols, security, scalability, reliability and manageability); ipv6 provides ample addressing capability to accommodate projected growth of iot endpoints well into the future: ipv4, in fact, has an address field made of 32 bits long, setting, in this way, an upper limit of 232 distinct addresses6 . this number is, unfortunately, insufficient for the billions of ip addressable iot things on the horizon and ipv6, for this reaason, has a 128-bit address field and the capability of 1036 unique addresses. 6 lowpan represents the network-layer building block that brings internet compatibility via adaptation to constrained networks and nodes. on top of the ieee 802.15.4 phy and mac, it works well with coap7 and completes the protocol stack suitable for use with constrained iot devices and networks8 <span style="color: red"> . </span> <span style="color: red">  </span> <span style="color: red"> figure </span> <span style="color: red"> 3 </span> <span style="color: red"> . </span> <span style="color: red"> comparison </span> <span style="color: red"> of </span> <span style="color: red"> 6 </span> lowpan with typical tcp/ip protocol stacks. <span style="color: red">  </span> <span style="color: red"> 3 </span> <span style="color: red">  </span> <span style="color: red"> 6 </span> lowpan: security requirements  the rfc4919 <span style="color: red"> specifies </span> <span style="color: red"> a </span> <span style="color: red"> list </span> <span style="color: red"> of </span> <span style="color: red"> security </span> <span style="color: red"> requirements </span> <span style="color: red"> for </span> <span style="color: red"> 6 </span> lowpan (mainly aimed <span style="color: red"> at </span> <span style="color: red"> protecting </span> <span style="color: red"> the </span> <span style="color: red"> communications </span> <span style="color: red"> from </span> <span style="color: red"> the </span> <span style="color: red"> users </span> <span style="color: red"> to </span> <span style="color: red"> the </span> <span style="color: red"> sensor </span> network). the most important requirements are the following: 5  6 lowpan stands for <span style="color: red"> ipv6 </span> <span style="color: red"> over </span> <span style="color: red"> low-power </span> <span style="color: red"> wireless </span> <span style="color: red"> personal </span> <span style="color: red"> area </span> networks. the exact number of addresses is 4,294,967,296. 7 coap stands for constrained application protocol and it enables nodes <span style="color: red"> to </span> <span style="color: red"> communicate </span> <span style="color: red"> with </span> <span style="color: red"> the </span> <span style="color: red"> internet </span> <span style="color: red"> using </span> <span style="color: red"> similar </span> <span style="color: red"> protocols. </span> <span style="color: red"> coap </span> <span style="color: red"> is </span> <span style="color: red"> designed </span> <span style="color: red"> for </span> <span style="color: red"> use </span> <span style="color: red"> between </span> <span style="color: red"> devices </span> <span style="color: red"> on </span> <span style="color: red"> the </span> <span style="color: red"> same </span> <span style="color: red"> constrained </span> <span style="color: red"> network </span> <span style="color: red"> (e.g., </span> <span style="color: red"> low-power </span> or <span style="color: red"> lossy </span> <span style="color: red"> networks), </span> <span style="color: red"> between </span> <span style="color: red"> devices </span> <span style="color: red"> and </span> <span style="color: red"> general </span> <span style="color: red"> nodes </span> <span style="color: red"> on </span> <span style="color: red"> the </span> <span style="color: red"> internet, </span> <span style="color: red"> and </span> <span style="color: red"> between </span> <span style="color: red"> devices </span> <span style="color: red"> on </span> <span style="color: red"> different </span> <span style="color: red"> constrained </span> <span style="color: red"> networks </span> <span style="color: red"> both </span> <span style="color: red"> joined </span> <span style="color: red"> by </span> <span style="color: red"> an </span> <span style="color: red"> internet. </span> 8 6 lowpan also provides a definition for encapsulating tcp and udp packets into payload of ieee 802.15.4 mac frames. 6  4  internet <span style="color: red"> of </span> <span style="color: red"> things </span> <span style="color: red"> and </span> <span style="color: red"> smart </span> <span style="color: red"> cities </span> <span style="color: red">  </span> luca masiero  • • • • •  confidentiality: only authorized <span style="color: red"> users </span> <span style="color: red"> can </span> <span style="color: red"> access </span> <span style="color: red"> the </span> required information; authentication: only trusted sources originate the data; integrity: during transmissions the data that is received remains unchanged; availability: the data is accessible when needed; robustness and resiliency provide a certain <span style="color: red"> level </span> <span style="color: red"> of </span> <span style="color: red"> security </span> <span style="color: red"> even </span> when some nodes are compromised; • energy efficiency: <span style="color: red"> the </span> <span style="color: red"> objective </span> <span style="color: red"> is </span> <span style="color: red"> to </span> maximize network lifetime.  4  6 lowpan: address management policy  ieee 802.15.4 defines two types of addresses: ieee eui-64 bit extended addresses, globally unique, or 16 bit short addresses, unique only within the pan. both types are supported by 6 lowpan. to use short addresses at the network level, since they are only available after they have been assignment by the pan coordinator and their validity is limited to the validity of the association, 6 lowpan requires that their use be made under certain conditions and within certain limits. in 6 lowpan it is assumed that a pan is mapped within a specific ipv6 link: this implies the use of a common prefix for the devices in the network. this assumption has important consequences in address management for three different aspects: 1. management of multicast communication; 2. network self-configuration; 3. creation and manipulation of local link addresses. after having established the criteria for constructing and managing ipv6 addresses on ieee 802.15.4 networks, <span style="color: red"> it </span> <span style="color: red"> is </span> <span style="color: red"> necessary </span> <span style="color: red"> to </span> illustrate how the transmission of ipv6 packets is feasible. 6 lowpan describes two basic mechanisms: an adaptive layer for inserting only the necessary information, and a header compression scheme. these techniques are aimed at reducing the information to be sent over the radio as much as possible in order to minimize the overall network overhead.  4.1  adaptive layer <span style="color: red">  </span> <span style="color: red"> in </span> <span style="color: red"> order </span> <span style="color: red"> to </span> be able to transfer the information from the upper layers to the lower ones, an adaptive layer will incrementally build the packet according to the ip philosophy (inserting additional information only when required). for this purpose, the 6 lowpan packet has an optional initial part, consisting of a stack of headers describing the type of packet being transmitted. the stack includes: 1. a support header for communications over mesh networks; 2. a header for broadcast communications; 3. a header for handling packet fragmentation. all headers are optional; any of the three headers, or none at all, may appear in a 6 lowpan packet. the optionality does not imply processing or interpretation discretion: there is, in fact, a packet construction scheme that the headers must follow. the sequence of headers <span style="color: red"> is </span> <span style="color: red"> shown </span> <span style="color: red"> in </span> <span style="color: red"> figure </span> 4.  5  internet <span style="color: red"> of </span> <span style="color: red"> things </span> <span style="color: red"> and </span> <span style="color: red"> smart </span> <span style="color: red"> cities </span> <span style="color: red">  </span> luca masiero  figure 4 . 6 lowpan optional headers.  6 lowpan inherits from ipv6 a mechanism for resolving the ambiguity that arises from the the possible presence of multiple optional headers: <span style="color: red"> the </span> <span style="color: red"> use </span> <span style="color: red"> of </span> <span style="color: red"> the </span> dispatch, an additional byte that always precedes the actual headers and allows their recognition and consequently the correct interpretation. the mesh header is present in packets that use a mesh routing protocol to route them and does not specify which mesh routing protocol to adopt, but is merely a medium for encoding the information needed for any mesh routing protocol. an optional header often used in combination with the previous one is reserved for broadcast communications. the header ends with a byte used for a sequence number field that is set by the source of the transmission and is used to recognize duplicate packets. a packet fragmentation mechanism is required to encapsulate ipv6 packets, up to 1280 bytes long, within ieee 802.15.4 packets whose available payload varies from 81 to 102 bytes.  4.2 <span style="color: red">  </span> <span style="color: red"> header </span> <span style="color: red"> compression </span> <span style="color: red">  </span> in the worst case, only 81 bytes are available, for the upper layers, in an ieee 802.15.4 frame. considering that the ipv6 header occupies 40 bytes, only 41 bytes would be left for the data of the upper layers. if the udp protocol is also used, we have to consider an additional header of 8 bytes and therefore only 33 bytes for the application layer. the adaptive layer, described in subsection 4.1, further reduces the available space, requiring at least one dispatch byte to encapsulate the uncompressed ipv6 header. it is crucial that a header compression mechanism is indispensable in order to use ipv6 protocol in a rational way on ieee 802.15.4 networks. the compression mechanism of the ipv6 header is called hc1 9 and is possible when devices are already part of a 6 lowpan network and share the network’s prefix. this allows to implement a simple and effective compression mechanism that does not require the use of any specific algorithm but is obtained by simply eliminating shared or redundant information from the packet. the udp header compression mechanism is beyond the scope of this report.  9  hc1 stands for header compression 1.  6  internet <span style="color: red"> of </span> <span style="color: red"> things </span> <span style="color: red"> and </span> <span style="color: red"> smart </span> <span style="color: red"> cities </span> <span style="color: red">  </span> 5  luca masiero  routing: an open research field  this last section opens a window on a research topic that is currently debated in the scientific community. i will provide, after having studied the scientific articles listed in the references section, a personal analysis of the most important requirements for an effective 6 lowpan routing strategy, highlighting ideas, that can be applied to the internet of things, acquired from other university courses followed in the two last years of my academic career.  5.1  routing: general framework  the main criteria, identified by combining the contributions from [2] and [3], that 6 lowpan routing protocols have to satisfy are the following: • support of <span style="color: red"> different </span> <span style="color: red"> types </span> <span style="color: red"> of </span> <span style="color: red"> communication </span> (unicast, anycast or multicast); • constraint-based and <span style="color: red"> adaptive </span> <span style="color: red"> routing </span> <span style="color: red"> with </span> <span style="color: red"> different </span> <span style="color: red"> network </span> conditions; • support of different traffic: multipoint-to-point, point-to-multipoint and point-to-point traffic; • scalability, security and performance. <span style="color: red"> when </span> <span style="color: red"> looking </span> <span style="color: red"> at </span> <span style="color: red"> security </span> <span style="color: red"> problems </span> <span style="color: red"> of </span> <span style="color: red"> 6 </span> <span style="color: red"> lowpan, </span> <span style="color: red"> routing </span> <span style="color: red"> is </span> <span style="color: red"> one </span> <span style="color: red"> of </span> <span style="color: red"> the </span> <span style="color: red"> weakest </span> aspects because <span style="color: red"> nodes </span> <span style="color: red"> are </span> <span style="color: red"> easy </span> <span style="color: red"> to </span> <span style="color: red"> be </span> <span style="color: red"> compromised </span> <span style="color: red"> while </span> <span style="color: red"> they </span> <span style="color: red"> are </span> frequently moving <span style="color: red"> in </span> <span style="color: red"> the </span> <span style="color: red"> networks, </span> <span style="color: red"> and </span> <span style="color: red"> contact </span> <span style="color: red"> with </span> <span style="color: red"> new </span> and, most of the times, unauthenticated neighbours could represent possible attack scenarios.  5.2  routing: mesh-under vs route-over  within the ietf, a major conceptual difficulty has not only been on the routing policy to be adopted but also on how this should be related to the network’s protocol used in wsns10 . two are the identified ”schools of thought”: the first one argues that routing mechanisms should be adopted below the network protocol (mesh-under ), the second states that the routing protocol should be directly based on the network protocol (route-over ).  figure 5 . mesh-under and route-over routing.  even though the distinction is not trivial, these mechanisms guarantee interoperability, allowing packets routing also between different pans and link layers, such as ieee 802.15.4, ieee 802.11, ieee 802.16 and so on. 10  wsn stands <span style="color: red"> for </span> <span style="color: red"> wireless </span> <span style="color: red"> sensor </span> <span style="color: red"> network. </span> <span style="color: red">  </span> 7  internet <span style="color: red"> of </span> <span style="color: red"> things </span> <span style="color: red"> and </span> <span style="color: red"> smart </span> <span style="color: red"> cities </span> <span style="color: red">  </span> 5.3  luca masiero  routing: topology  rpl11 <span style="color: red"> components </span> <span style="color: red"> include </span> <span style="color: red"> wsn </span> <span style="color: red"> nodes, </span> that <span style="color: red"> act </span> <span style="color: red"> as </span> <span style="color: red"> hosts </span> <span style="color: red"> or </span> <span style="color: red"> intermediate </span> <span style="color: red"> routers </span> <span style="color: red"> for </span> <span style="color: red"> transmitting </span> packets, and a local border router in the network’s edge that <span style="color: red"> communicates </span> <span style="color: red"> through </span> <span style="color: red"> a </span> <span style="color: red"> common </span> backbone. 6 <span style="color: red"> lowpan </span> <span style="color: red"> nodes </span> <span style="color: red"> connect </span> <span style="color: red"> with </span> <span style="color: red"> a </span> <span style="color: red"> directed </span> <span style="color: red"> acyclic </span> <span style="color: red"> graph </span> <span style="color: red"> (dag) </span> <span style="color: red"> topology </span> <span style="color: red"> to </span> <span style="color: red"> prevent </span> <span style="color: red"> any </span> <span style="color: red"> network </span> <span style="color: red"> loop. </span> <span style="color: red"> this </span> <span style="color: red"> dag </span> <span style="color: red"> is </span> divided into destination oriented dags (dodags), <span style="color: red"> where </span> <span style="color: red"> the </span> <span style="color: red"> roots </span> <span style="color: red"> of </span> <span style="color: red"> these </span> dodags usually are local border routers connected <span style="color: red"> together </span> <span style="color: red"> and </span> <span style="color: red"> to </span> <span style="color: red"> the </span> <span style="color: red"> internet </span> <span style="color: red"> through </span> <span style="color: red"> the </span> <span style="color: red"> backbone. </span> <span style="color: red"> the </span> <span style="color: red"> dodag </span> <span style="color: red"> can </span> <span style="color: red"> be </span> <span style="color: red"> considered </span> <span style="color: red"> as </span> a logical configuration of physical nodes (a <span style="color: red"> node </span> <span style="color: red"> can </span> <span style="color: red"> join </span> <span style="color: red"> multiple </span> <span style="color: red"> dodags </span> <span style="color: red"> to </span> <span style="color: red"> support </span> <span style="color: red"> routing </span> optimization). figure 6 <span style="color: red"> shows </span> <span style="color: red"> in </span> <span style="color: red"> detail </span> <span style="color: red"> this </span> <span style="color: red"> general </span> <span style="color: red"> architecture. </span> <span style="color: red">  </span> figure 6 . 6 lowpan architecture. <span style="color: red">  </span> <span style="color: red"> nodes </span> <span style="color: red"> in </span> <span style="color: red"> dodag </span> <span style="color: red"> select </span> <span style="color: red"> and </span> optimize <span style="color: red"> the </span> <span style="color: red"> path </span> <span style="color: red"> using </span> <span style="color: red"> some </span> <span style="color: red"> node/link </span> <span style="color: red"> metrics </span> <span style="color: red"> and </span> <span style="color: red"> constraints </span> (known as dodag instances) <span style="color: red"> such </span> <span style="color: red"> as </span> <span style="color: red"> node </span> <span style="color: red"> state, </span> <span style="color: red"> node </span> <span style="color: red"> energy, </span> <span style="color: red"> hop </span> <span style="color: red"> count, </span> <span style="color: red"> throughput </span> and latency. the node uses <span style="color: red"> objective </span> <span style="color: red"> functions </span> <span style="color: red"> to </span> <span style="color: red"> point </span> <span style="color: red"> out </span> <span style="color: red"> particular </span> <span style="color: red"> metrics </span> <span style="color: red"> chosen </span> <span style="color: red"> for </span> optimizing routes, <span style="color: red"> represented </span> <span style="color: red"> by </span> <span style="color: red"> objective </span> <span style="color: red"> code </span> <span style="color: red"> point </span> <span style="color: red"> (ocp). </span> <span style="color: red"> on </span> <span style="color: red"> the </span> <span style="color: red"> basis </span> <span style="color: red"> of </span> <span style="color: red"> objective </span> <span style="color: red"> functions </span> <span style="color: red"> and </span> <span style="color: red"> path </span> <span style="color: red"> cost </span> towards <span style="color: red"> the </span> <span style="color: red"> root, </span> <span style="color: red"> the </span> <span style="color: red"> rank </span> <span style="color: red"> (or </span> <span style="color: red"> depth) </span> <span style="color: red"> of </span> <span style="color: red"> nodes </span> <span style="color: red"> is </span> <span style="color: red"> calculated </span> <span style="color: red"> to </span> <span style="color: red"> differentiate </span> <span style="color: red"> their </span> <span style="color: red"> relationship </span> (e.g., <span style="color: red"> nodes </span> <span style="color: red"> with </span> <span style="color: red"> the </span> <span style="color: red"> same </span> <span style="color: red"> rank </span> <span style="color: red"> can </span> <span style="color: red"> be </span> <span style="color: red"> sibling </span> <span style="color: red"> nodes, </span> <span style="color: red"> while </span> <span style="color: red"> consecutive </span> <span style="color: red"> rank </span> <span style="color: red"> nodes </span> <span style="color: red"> can </span> <span style="color: red"> be </span> <span style="color: red"> parents </span> <span style="color: red"> and </span> child).  11  rpl stands for <span style="color: red"> routing </span> <span style="color: red"> protocol </span> <span style="color: red"> for </span> <span style="color: red"> low-power </span> <span style="color: red"> and </span> <span style="color: red"> lossy </span> networks.  8  internet <span style="color: red"> of </span> <span style="color: red"> things </span> <span style="color: red"> and </span> <span style="color: red"> smart </span> <span style="color: red"> cities </span> <span style="color: red">  </span> 5.4  luca masiero  routing: main requirements  the main features and requirements needed in order to develop an effective routing strategy, shown in figure 8 , are discussed by building a ”bridge” between different fields, letting the reader understand that there exists a link between apparently unrelated subjects:  figure 7 . taxonomy of routing requirement in 6 lowpan.  • the node should support sleep mode (equal to a periodical hibernation) for battery saving. this concept is taken into account when considering neural networks’ optimization applied to <span style="color: red"> the </span> <span style="color: red"> internet </span> <span style="color: red"> of </span> <span style="color: red"> things: </span> the dropout is a computationally inexpensive but powerful method of regularizing models. the basic idea consists in randomly removing input and hidden units (also called neurons or nodes) during processing of each pattern; in particular a binary ”mask” (made by zeros and ones) is sampled and defines which unit should be dropped out according to a fixed probability hyperparameter p that is usually in the range [0.1, 0.6]. in this way the network’s units will be forced to learn, on the one hand, the most important features by not relying on the same nodes, and on the other, a feature that is good in many different contexts. a similar reasoning can be applied to iot and the sleep mode of nodes. it could be developed a routing algorithm that takes into account different paths depending on the fact that some nodes could effectively be ”shut down” and unavailable for the routing strategy at a specific moment.  9  internet <span style="color: red"> of </span> <span style="color: red"> things </span> <span style="color: red"> and </span> <span style="color: red"> smart </span> <span style="color: red"> cities </span> <span style="color: red">  </span> luca masiero  figure 8 . dropout applied to a neural network made by two hidden layers.  • generated overhead on data packets should be low: routing overhead should consequently be lower in order to conserve energy; • small mtu (maximum transmission unit): small packet size requested; • deep power management: high duty cycle in order to optimize energy savings. the concept of dropout also results in an interesting energy saving technique letting the network use a limited number of nodes instead of the whole available quantity. the concept of power management has been taken into account when developing an iot keyword spotting algorithm for detecting spoken words from a person to a device/program (e.g., alexa or google assistant)12 . • heterogeneous capabilities: protocols should be compatible with many physical devices interacting with each other and the internet; • need of reactive protocols in case of failure or low network connectivity. a routing algorithm <span style="color: red"> is </span> <span style="color: red"> one </span> <span style="color: red"> of </span> <span style="color: red"> the </span> <span style="color: red"> most </span> important factors that directly impact a network’s performance. to be kept in mind is the fact that conventional routing algorithms such as hierarchical routing (hi-low), 6 lowpan ad-hoc on-demand distance vector routing (load) or dynamic manet on-demand for 6 lowpan routing (dymo-low) do not consider the network data history (e.g., equipment failures or overloaded paths). for this reason, reinforcement learning could be particularly useful providing advantages using network data: the intelligent agent should, to accomplish the given task, be able to learn how to behave in a dynamic environment through <span style="color: red"> a </span> <span style="color: red"> huge </span> <span style="color: red"> number </span> <span style="color: red"> of </span> iterations. just to provide a simple example, an agent who makes a certain choice can receive a reward or a punishment whether the choice was good or bad, respectively (directly influencing the inner agent’s state). reinforcement learning techniques applied to the routing problem related to 6 lowpan can improve the steps to the decision making process of a good path choice, leading to a final better network performance. • dynamic adapting and multi-topology routing. from parallel computing the concept of graph embedding can be useful. let g = (v, e) and h = (w, f ) be two graphs. an embedding, e = (φ, ψ), of g (guest) and h (host) is an ordered pair of functions where: – φ : v −→ w ; – ψ : e −→ set of simple paths of h, such that ψ(a, b) is a path from φ(a) to φ(b); φ is known as the placement function, while ψ is known as the routing function. 12  a deep analysis of the keyword spotting problem related to iot (with a proposed solution very close to <span style="color: red"> the </span> <span style="color: red"> state </span> <span style="color: red"> of </span> <span style="color: red"> the </span> art model) was presented for the final grade by luca masiero and stefano ivancich for the human data analytics course, held by professor michele rossi during the second semester of the academic year 2019/2020. the written report, the presentation and a demo are available at the following website: https://github.com/ivaste/keywordspotting.  10  internet <span style="color: red"> of </span> <span style="color: red"> things </span> <span style="color: red"> and </span> <span style="color: red"> smart </span> <span style="color: red"> cities </span> <span style="color: red">  </span> luca masiero  the concept of graph embedding e can be associated to iot routing strategies when thinking about the load of a node and dilation and congestion of edges. logical topologies can be developed considering the advantage given by, for instance, a hypercube-stylish way of placing nodes instead of preferring a linear array or a 2-d mesh; a 3-d mesh topology could be more effective when considering the characteristics of certain graphs, such as complete graphs (indicated with kn , where n is the total number of nodes) or ring topologies. a very important theoretical result states that, keeping in mind the definition provided above of the graph embedding e: if load l(e) = l, dilation d(e) = d and congestion c(e) = c then, for any choice of the message schedule, the worst-case slowdown of the embedding-based simulation procedure satisfies the lower bound s = ω(l + d + c) and the routing strategies should be developed considering bandwidth limits (along with the theoretical result already discussed). • flexibility, minimality, scalability, confidentiality and authentication are the last, but not least, most important characteristics to keep in mind when developing a routing strategy for 6 lowpan. to provide and example, in [6] the authors consider matrix multiplication, a fundamental building block of many distributed machine learning algorithms, as a remarkable computation example to show that an iot system can effectively resist to pollution attacks 13 . the developed algorithms (for both cloud and user) shew that an iot system could resist to attacks with a probability close to 100% by applying transformations on the input data by adding <span style="color: red"> a </span> <span style="color: red"> huge </span> <span style="color: red"> number </span> <span style="color: red"> of </span> rows to the matrices (then shuffled in a smart way) without limiting the overall performance of the system. confidentiality and authentication for the users where ensured for the whole process14 .  final thoughts & acknowledgements with this report i learnt how to research and select papers from scientific literature, delivering a report written with latex. it took a while to deeply understand the standard under consideration, 6 lowpan, also helped by the adopted book, internet of things: concepts and system design written by milan milenkovic. with this work i just scratched the surface of a so vast topic and the ideas presented here could be considered for future implementations and personal projects. this report is presented for the final grade <span style="color: red"> of </span> <span style="color: red"> the </span> <span style="color: red"> internet </span> <span style="color: red"> of </span> <span style="color: red"> things </span> <span style="color: red"> and </span> <span style="color: red"> smart </span> <span style="color: red"> cities </span> course, held by professor lorenzo vangelista at the university of padova in the academic year 2020/2021.  13 a pollution attack is a particular kind of attack in which each intermediate result received by the user may be maliciously modified by an edge device. 14 a deep analysis of [6] was presented for the final grade by luca masiero for the distributed systems course, held by professor carlo ferrari during the first semester of the academic year 2020/2021.  11  internet <span style="color: red"> of </span> <span style="color: red"> things </span> <span style="color: red"> and </span> <span style="color: red"> smart </span> <span style="color: red"> cities </span> <span style="color: red">  </span> luca masiero  references [1] milenkovic, milan. internet of things: concepts and system design. 2020, spinger. [2] le, anhtuan & loo, jonathan & lasebae, a. & aiash, mahdi & luo, yuan. (2012). <span style="color: red"> 6lowpan: </span> <span style="color: red"> a </span> <span style="color: red"> study </span> <span style="color: red"> on </span> <span style="color: red"> qos </span> <span style="color: red"> security </span> <span style="color: red"> threats </span> <span style="color: red"> and </span> <span style="color: red"> countermeasures </span> <span style="color: red"> using </span> <span style="color: red"> intrusion </span> <span style="color: red"> detection </span> <span style="color: red"> system </span> approach. <span style="color: red"> international </span> <span style="color: red"> journal </span> <span style="color: red"> of </span> <span style="color: red"> communication </span> systems. 10.1002/dac.2356. [3] vinay kumar, sudarshan tiwari, ”routing in <span style="color: red"> ipv6 </span> <span style="color: red"> over </span> <span style="color: red"> low-power </span> <span style="color: red"> wireless </span> <span style="color: red"> personal </span> <span style="color: red"> area </span> <span style="color: red"> networks </span> (6lowpan): a survey”, journal of computer networks and communications, vol. 2012, article id 316839, 10 pages, 2012. https://doi.org/10.1155/2012/316839 [4] w. xie et al., ”routing loops in dag-based <span style="color: red"> low </span> <span style="color: red"> power </span> <span style="color: red"> and </span> <span style="color: red"> lossy </span> networks,” 2010 24th ieee <span style="color: red"> international </span> <span style="color: red"> conference </span> <span style="color: red"> on </span> <span style="color: red"> advanced </span> information networking and applications, perth, wa, australia, 2010, pp. 888-895, doi: 10.1109/aina.2010.126. [5] k. hong and l. choi, ”dag-based multipath routing for mobile sensor networks,” ictc 2011, seoul, korea (south), 2011, pp. 261-266, doi: 10.1109/ictc.2011.6082593. [6] m. fu, j. wang, j. zhou, j. wang, k. lu and x. zhou, ”a null-space-based verification scheme for coded edge computing against pollution attacks,” 2019 ieee 25th international conference on parallel and distributed systems (icpads), tianjin, china, 2019, pp. 454-461, doi: 10.1109/icpads47876.2019.00071.  12  